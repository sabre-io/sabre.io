<!DOCTYPE html>
<head lang="en">

    
  
            <title>iOS - sabre/dav</title>
    
    <meta charset="utf-8">

    <link rel="alternate" type="application/atom+xml" href="https://sabre.io/atom.xml" title="sabre.io blog">
    <link rel="icon" href="https://sabre.io/favicon.ico">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,700,300,400" type="text/css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <link rel="stylesheet" type="text/css" href="https://sabre.io/css/sabre.css">
    
</head>
<body >
    <header class="pagehead">

    <div class="pagehead-inner">
        <a class="logo" href="https://sabre.io/">
                            <img src="https://sabre.io/img/logo.png" alt="sabre/sabre/dav">
                sabre<span>/dav</span>
                    </a>

        <nav class="nav nav--page">
            <ul>
                <li class="size-auto"></li>
                <li><a href="https://sabre.io/dav">Docs</a></li>
                <li><a href="https://sabre.io/blog">Blog</a></li>
                <li><a href="https://sabre.io/support">Support</a></li>
                <li class="size-auto text--right"><a href="https://github.com/sabre-io"><i class="fa fa-github"></i></a></li>
                <!-- <li><a href="https://sabre.io/atom.xml"><i class="fa fa-rss"></i></a> <a href="https://twitter.com/sabredav"><i class="fa fa-twitter"></i></a></li> -->
            </ul>
        </nav>

    </div>

</header>

            <input class="hamburger-input" type="checkbox" id="nav-check" name="nav-check">
        <label class="hamburger-label" for="nav-check"><i class="fa fa-bars"></i></label>
    
        <main  class="incl-sidebar">
                    <aside class="sidebar">
    <nav class="nav nav--sidebar">
        <ul class="list list--nav">
            <li><a href="https://sabre.io/dav">sabre/dav</a>
                                <ul>
                    <li><a href="https://sabre.io/dav/install">Installation</a></li>
                    <li><a href="https://sabre.io/dav/upgrading">Upgrading</a></li>
                    <li><a href="https://sabre.io/dav/gettingstarted">Getting Started</a></li>
                    <li><a href="https://sabre.io/dav/extending-sabredav">Extending sabre/dav</a></li>
                    <li>Troubleshooting
                        <ul>
                            <li><a href="https://sabre.io/dav/faq">FAQ</a></li>
                            <li><a href="https://sabre.io/dav/clients">Clients</a></li>
                            <li><a href="https://sabre.io/dav/webservers">Webservers</a></li>
                        </ul>
                    </li>
                    <li>CalDAV
                        <ul>
                            <li><a href="https://sabre.io/dav/caldav">Getting started</a></li>
                            <li><a href="https://sabre.io/dav/building-a-caldav-client">Building a CalDAV client</a></li>
                            <li><a href="https://sabre.io/dav/caldav-carddav-integration-guide">Integration guide</a></li>
                            <li><a href="https://sabre.io/dav/caldav-proxy">Delegation</a></li>
                            <li><a href="https://sabre.io/dav/caldav-sharing">Calendar sharing</a></li>
                            <li><a href="https://sabre.io/dav/ics-export-plugin">iCalendar export</a></li>
                            <li><a href="https://sabre.io/dav/scheduling">Scheduling</a></li>
                            <li><a href="https://sabre.io/dav/service-discovery">Service Discovery</a></li>
                        </ul>
                    </li>
                    <li>CardDAV
                        <ul>
                            <li><a href="https://sabre.io/dav/carddav/">Getting started</a></li>
                            <li><a href="https://sabre.io/dav/building-a-carddav-client/">Building a CardDAV client</a></li>
                            <li><a href="https://sabre.io/dav/caldav-carddav-integration-guide/">Integration guide</a></li>
                            <li><a href="https://sabre.io/dav/carddav-directory/">CardDAV Directory</a></li>
                            <li><a href="https://sabre.io/dav/vcf-export-plugin/">vCard export</a></li>
                            <li><a href="https://sabre.io/dav/carddav-me-card/">Me-card</a></li>
                            <li><a href="https://sabre.io/dav/service-discovery/">Service Discovery</a></li>
                        </ul>
                    </li>
                    <li>Other topics
                        <ul>
                            <li><a href="https://sabre.io/dav/acl">Acl</a></li>
                            <li><a href="https://sabre.io/dav/authentication">Authentication</a></li>
                            <li><a href="https://sabre.io/dav/character-encoding">Character encoding</a></li>
                            <li><a href="https://sabre.io/dav/browser-plugin">Directory indexes</a></li>
                            <li><a href="https://sabre.io/dav/davmount">DavMount</a></li>
                            <li><a href="https://sabre.io/dav/guesscontenttype">Content Types</a></li>
                            <li><a href="https://sabre.io/dav/http-patch">PATCH support</a></li>
                            <li><a href="https://sabre.io/dav/large-files">Large files</a></li>
                            <li><a href="https://sabre.io/dav/litmus">Litmus</a></li>
                            <li><a href="https://sabre.io/dav/locks">Locks</a></li>
                            <li><a href="https://sabre.io/dav/plugins">Plugins</a></li>
                            <li><a href="https://sabre.io/dav/per-user-directories/">Per-user directories</a></li>
                            <li><a href="https://sabre.io/dav/properties">Properties</a></li>
                            <li><a href="https://sabre.io/dav/property-storage">Property storage</a></li>
                            <li><a href="https://sabre.io/dav/scalability">Scalability</a></li>
                            <li><a href="https://sabre.io/dav/simplecollection">SimpleCollection</a></li>
                            <li><a href="https://sabre.io/dav/standards-support">Standards Support</a></li>
                            <li><a href="https://sabre.io/dav/temporary-files">Temporary Files</a></li>
                            <li><a href="https://sabre.io/dav/versioning">Versioning</a></li>
                            <li><a href="https://sabre.io/dav/virtual-filesystems">Virtual filesystems</a></li>
                            <li><a href="https://sabre.io/dav/davclient">WebDAV client</a></li>
                            <li><a href="https://sabre.io/dav/sync">WebDAV sync</a></li>
                            <li><a href="https://sabre.io/dav/writing-plugins">Writing Plugins</a></li>
                            <li><a href="https://sabre.io/dav/xmlelements">XML Elements</a></li>
                            <li><a href="https://sabre.io/dav/0bytes">Zero byte files</a></li>
                        </ul>
                    </li>
                </ul>
                            </li>
            <li><a href="https://sabre.io/event">sabre/event</a>
                            </li>
            <li><a href="https://sabre.io/http">sabre/http</a>
                            </li>
            <li><a href="https://sabre.io/katana">sabre/katana</a>
                            </li>
            <li><a href="https://sabre.io/vobject">sabre/vobject</a>
                            </li>
            <li><a href="https://sabre.io/xml">sabre/xml</a>
                            </li>
            <li><a href="https://sabre.io/uri">sabre/uri</a>
                            </li>
            <li><a href="https://sabre.io/baikal/">Baïkal</a>
                            </li>
            <li><a href="https://sabre.io/license">License</a></li>
        </ul>
    </nav>
</aside>
                <article>
                            <h1>iOS</h1>
                <p>iOS contains both a CalDAV and a CardDAV client for quite a few versions.
It is one of the best clients out there.</p>

<h2 id="supported-features">Supported features</h2>

<ul>
<li><a href="/dav/caldav">CalDAV</a>.</li>
<li><a href="/dav/carddav">CardDAV</a>.</li>
<li><a href="/dav/scheduling">Scheduling</a>.</li>
<li><a href="/dav/service-discovery">SRV records and well-known urls</a>.</li>
<li><a href="/dav/caldav-sharing">Calendar sharing</a>.</li>
<li><a href="/dav/carddav-directory">CardDAV directory</a>.</li>
</ul>

<p>Not supported:</p>

<ul>
<li><a href="/dav/caldav-proxy">Calendar delegation</a>.</li>
</ul>

<h2 id="technical-details">Technical details</h2>

<p>Very incomplete list of user agent's we've come across:</p>

<p>DataAccess/1.0 (8J2)
  iOS/6.0 (10A403) dataaccessd/1.0
  DAVKit/4.0 (728.4); iCalendar/1 (42.1); iPhone/3.1.3 7E18</p>

<h3 id="properties">Properties</h3>

<p>The client will ask for the following additional properties on principals when
setting up carddav.</p>

<ul>
<li><code>{DAV:}principal-collection-set</code></li>
<li><code>{DAV:}supported-report-set</code></li>
<li><code>{DAV:}resource-id (no idea what this one is)</code></li>
<li><code>{DAV:}displayname</code></li>
<li><code>{http://calendarserver.org/NS}email-address-set</code></li>
<li><code>{urn:ietf:params:xml:ns:carddav}addressbook-home-set</code></li>
<li><code>{urn:ietf:params:xml:ns:carddav}directory-gateway</code></li>
</ul>

<p>When setting up caldav:</p>

<ul>
<li><code>{urn:ietf:params:xml:ns:caldav}calendar-home-set</code></li>
<li><code>{urn:ietf:params:xml:ns:caldav}calendar-user-address-set</code></li>
<li><code>{urn:ietf:params:xml:ns:caldav}schedule-inbox-URL</code></li>
<li><code>{urn:ietf:params:xml:ns:caldav}schedule-outbox-URL</code></li>
<li><code>{http://calendarserver.org/ns/}dropbox-home-URL</code></li>
<li><code>{DAV:}displayname</code></li>
</ul>

<p>The client will perform the following PROPFIND request on the 
<code>addressbook-home-set</code>:</p>

<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;A:propfind xmlns:A="DAV:"&gt;
  &lt;A:prop&gt;
    &lt;A:add-member/&gt;
    &lt;E:bulk-requests xmlns:E="http://me.com/_namespace/"/&gt;
    &lt;A:current-user-privilege-set/&gt;
    &lt;A:displayname/&gt;
    &lt;D:max-image-size xmlns:D="urn:ietf:params:xml:ns:carddav"/&gt;
    &lt;D:max-resource-size xmlns:D="urn:ietf:params:xml:ns:carddav"/&gt;
    &lt;C:me-card xmlns:C="http://calendarserver.org/ns/"/&gt;
    &lt;A:owner/&gt;
    &lt;C:push-transports xmlns:C="http://calendarserver.org/ns/"/&gt;
    &lt;C:pushkey xmlns:C="http://calendarserver.org/ns/"/&gt;
    &lt;A:quota-available-bytes/&gt;
    &lt;A:quota-used-bytes/&gt;
    &lt;A:resource-id/&gt;
    &lt;A:resourcetype/&gt;
    &lt;A:supported-report-set/&gt;
    &lt;A:sync-token/&gt;
  &lt;/A:prop&gt;
&lt;/A:propfind&gt;
</code></pre>

<p>And the following on a single addressbook:</p>

<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;A:propfind xmlns:A="DAV:"&gt;
  &lt;A:prop&gt;
    &lt;C:getctag xmlns:C="http://calendarserver.org/ns/"/&gt;
    &lt;A:sync-token/&gt;
  &lt;/A:prop&gt;
&lt;/A:propfind&gt;
</code></pre>

<p>It will use the addressbook-multiget REPORT to fetch contents of cards.</p>

<p>On the calendar-home-set it will request:</p>

<ul>
<li><code>{DAV:}displayname</code></li>
<li><code>{urn:ietf:params:xml:ns:caldav}calendar-description</code></li>
<li><code>{http://calendarserver.org/ns/}getctag</code></li>
<li><code>{http://apple.com/ns/ical/}calendar-color</code></li>
<li><code>{urn:ietf:params:xml:ns:caldav}supported-calendar-component-set</code></li>
<li><code>{DAV:}resourcetype</code></li>
<li><code>{DAV:}current-user-privilege-set</code></li>
</ul>

<p>On calendars it may use REPORT to find all events within a certain time range:</p>

<pre><code>&lt;x0:calendar-query xmlns:x0="urn:ietf:params:xml:ns:caldav" xmlns:x1="DAV:"&gt;
    &lt;x1:prop&gt;
        &lt;x1:getetag /&gt;
        &lt;x1:resourcetype /&gt;
    &lt;/x1:prop&gt;
    &lt;x0:filter&gt;
        &lt;x0:comp-filter name="VCALENDAR"&gt;
            &lt;x0:comp-filter name="VEVENT"&gt;
                &lt;x0:time-range start="20100420T150000Z" /&gt;
            &lt;/x0:comp-filter&gt;
        &lt;/x0:comp-filter&gt;
    &lt;/x0:filter&gt;
&lt;/x0:calendar-query&gt;
</code></pre>

<p>The last report is only used to find out of any event changed. The
calendar-multiget report is used to download the actual changes:</p>

<pre><code>&lt;x0:calendar-multiget xmlns:x0="urn:ietf:params:xml:ns:caldav" xmlns:x1="DAV:"&gt;
    &lt;x1:prop&gt;
        &lt;x1:getetag /&gt;
        &lt;x0:calendar-data /&gt;
    &lt;/x1:prop&gt;
    &lt;x1:href&gt;/calendars/admin/default/524022B0-8AA8-44BD-8E6A-F1B41FBBC9E2.ics&lt;/x1:href&gt;
&lt;/x0:calendar-multiget&gt;
</code></pre>

<h2 id="base-urls-in-ios6">Base urls in iOS6</h2>

<p>It was reported that iOS switches to extremely buggy behavior if the CardDAV
server is not running on the root of the server, more specifically.. when the
user sets up the CardDAV server and the 'server' they fill in is not <em>just</em> a
domain name, iOS breaks severely.</p>

<p>If you must have a carddav server that's not running off the root, you can
workaround this by setting up a 'well-known' endpoint for CardDAV, as
described in <a href="/dav/service-discovery">ServiceDiscovery</a>.</p>

<h2 id="base-urls-in-ios7">Base urls in iOS7</h2>

<p>iOS7 also has issues with servers not running on a root domain, although the
problem appears to have changed a bit in nature (need more details).</p>

<p>Setting up the Cal and CardDAV server by using a <em>full principal url</em> seems to
almost always fix these problems.</p>

<p>This issue also appeared in very old iOS versions (iOS 3).</p>

<h2 id="directory-support">Directory support</h2>

<p>iOS has support for a global read-only directory. iOS does not allow simply
browsing through the directory, it's used for searching only (using the
addressbook-query REPORT).</p>

<p>SabreDAV does have (very minimal) support for
<a href="/dav/carddav-directory">CardDAV directory</a>.</p>

<h2 id="encoding-of-http%2F1.1-200-ok">Encoding of HTTP/1.1 200 Ok</h2>

<p>Apparently older iOS versions (1.4.2) require HTTP/1.1 200 Ok to be encoded in
uppercase (OK rather than Ok). This is fixed in SabreDAV version 1.5.3.</p>
            
            
                    </article>
    </main>
    
    <!-- this is where the ugly bit starts. Stupid javascript :( -->

    <script src="https://sabre.io/components/highlightjs/highlight.pack.js"></script>
    <script>
        hljs.configure({languages: ['php']});
        hljs.initHighlightingOnLoad();
    </script>

    
    <footer>

    <nav>
        <ul>
            <li>© 2025 <a href="https://fruux.com">fruux GmbH</a> · </li>
            <li><a href="https://sabre.io/support">Contact</a> · </li>
            <li><a href="https://sabre.io/legal">Legal Info</a></li>
        </ul>
        <ul>
            <li><i class="fa fa-twitter"></i> <a href="https://twitter.com/sabredav">@sabredav</a> · </li>
            <li><a href="https://twitter.com/fruux">@fruux</a></li>
                    </ul>
    </nav>

</footer>

</body>
